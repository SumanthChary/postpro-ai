<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PostPro AI Companion</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div class="app">
      <header class="masthead">
        <div class="masthead__brand">
          <img src="icons/logo-48.png" alt="PostPro AI" class="masthead__logo" />
          <div class="masthead__copy">
            <span class="masthead__eyebrow">LinkedIn companion</span>
            <h1 class="masthead__title">PostPro AI</h1>
          </div>
        </div>
        <div class="masthead__side">
          <span class="masthead__pill" id="plan-pill" data-tone="neutral">Checking access...</span>
          <button id="open-options" class="masthead__icon" type="button" aria-label="Extension settings">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
              <path
                d="M4.322 17.641a1.78 1.78 0 0 0 2.436.649 1.78 1.78 0 0 1 2.598 1.915 1.78 1.78 0 0 0 1.695 2.219h1.898a1.78 1.78 0 0 0 1.695-2.219 1.78 1.78 0 0 1 2.598-1.915 1.78 1.78 0 0 0 2.436-.649l.95-1.644a1.78 1.78 0 0 0-.471-2.301 1.78 1.78 0 0 1 0-2.828 1.78 1.78 0 0 0 .471-2.301l-.95-1.644a1.78 1.78 0 0 0-2.436-.649 1.78 1.78 0 0 1-2.598-1.915A1.78 1.78 0 0 0 13.95 2h-1.898a1.78 1.78 0 0 0-1.695 2.219 1.78 1.78 0 0 1-2.598 1.915 1.78 1.78 0 0 0-2.436.649l-.95 1.644a1.78 1.78 0 0 0 .471 2.301 1.78 1.78 0 0 1 0 2.828 1.78 1.78 0 0 0-.471 2.301l.95 1.644Z"
                stroke="currentColor"
                stroke-width="1.6"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
        </div>
      </header>

      <section class="status" aria-live="polite">
        <div class="status__identity">
          <div class="status__avatar" id="profile-avatar" aria-hidden="true">PP</div>
          <div class="status__meta">
            <span class="status__name" id="profile-name">Welcome back</span>
            <span class="status__plan" id="profile-plan">Sign in to personalize</span>
          </div>
        </div>
        <div class="status__links">
          <button id="open-dashboard" class="status__link" aria-label="Open dashboard">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="m9 5 7 7-7 7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" /></svg>
          </button>
          <button id="open-plans" class="status__link" aria-label="Manage subscription">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 7h16M4 12h16M4 17h10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" /></svg>
          </button>
          <button id="logout-btn" class="status__link status__link--danger is-hidden" aria-label="Sign out">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="m16 17 5-5-5-5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M21 12H9" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M12 19a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      </section>

      <div class="app__body">
        <section id="auth-gate" class="card card--gate is-hidden" aria-live="polite">
          <h2 class="card__title">Sign in to continue</h2>
          <p class="card__note" id="auth-gate-copy">Connect PostPro AI to unlock your LinkedIn toolkit.</p>
          <div class="card__actions">
            <button id="cta-login" class="button button--primary">Sign in</button>
            <button id="cta-trial" class="button button--ghost">Start free trial</button>
          </div>
        </section>

        <section id="plan-upsell" class="card card--gate is-hidden" aria-live="polite">
          <h2 class="card__title" id="upgrade-title">Upgrade required</h2>
          <p class="card__note" id="upgrade-copy">Activate a paid plan or trial to enhance and predict performance.</p>
          <div class="card__actions">
            <button id="cta-upgrade" class="button button--primary">Manage plan</button>
            <button id="cta-plan-trial" class="button button--secondary">Start free trial</button>
          </div>
        </section>

        <section id="main-shell" class="card card--shell is-hidden" aria-live="polite">
          <header class="composer__header">
            <div>
              <span class="composer__eyebrow">LinkedIn draft</span>
              <h2 class="composer__title">Craft a post your audience saves</h2>
            </div>
            <span class="composer__count" id="char-count">0/3000</span>
          </header>

          <textarea
            id="enhance-input"
            class="composer__textarea"
            rows="6"
            maxlength="3000"
            placeholder="Paste your LinkedIn draft here..."
          ></textarea>

          <div class="analytics" id="analytics-card" data-state="idle">
            <div class="analytics__label">
              <span id="meter-status">Virality meter idle</span>
              <span id="meter-score">--%</span>
            </div>
            <div class="analytics__meter" role="img" aria-label="Predicted virality score">
              <div class="analytics__fill" id="meter-fill" data-tier="idle"></div>
              <div class="analytics__pulse"></div>
            </div>
            <p class="analytics__hint">Scores update after prediction. Aim for 80%+</p>
          </div>

          <div class="composer__controls">
            <label class="field" for="enhance-category">
              <span>Category</span>
              <select id="enhance-category" class="field__select">
                <option value="linkedin_update">LinkedIn update</option>
                <option value="thought_leadership">Thought leadership</option>
                <option value="personal_story">Personal story</option>
                <option value="product_launch">Product launch</option>
                <option value="hiring">Hiring announcement</option>
              </select>
            </label>
            <label class="field" for="enhance-tone">
              <span>Tone</span>
              <select id="enhance-tone" class="field__select">
                <option value="professional">Professional</option>
                <option value="friendly">Friendly</option>
                <option value="bold">Bold</option>
                <option value="story">Story-driven</option>
                <option value="executive">Executive</option>
              </select>
            </label>
          </div>

          <div class="composer__actions">
            <button id="enhance-btn" class="button button--primary">Enhance post</button>
            <button id="virality-btn" class="button button--secondary">Predict reach</button>
            <button id="clear-enhance" class="button button--ghost" aria-label="Clear draft">Clear</button>
          </div>

          <section class="output" aria-live="polite">
            <header class="output__header">
              <div>
                <span class="output__eyebrow">Optimization playbook</span>
                <h3 class="output__title">Your revised LinkedIn copy</h3>
              </div>
              <button id="copy-enhanced" class="output__copy" aria-label="Copy enhanced post">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path d="M9 9V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M5 9h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
              </button>
            </header>
            <div class="output__body panel__output panel__output--empty" id="enhance-output">Your enhanced copy will appear here.</div>
          </section>
        </section>
      </div>

      <template id="loading-template">
        <div class="loading">
          <span class="loading__spinner" aria-hidden="true"></span>
          <span class="loading__label">Working on it...</span>
        </div>
      </template>

      <div id="login-sheet" class="login" hidden>
        <div id="login-backdrop" class="login__backdrop" aria-hidden="true"></div>
        <section class="login__panel" role="dialog" aria-modal="true" aria-labelledby="login-title">
          <header class="login__header">
            <div>
              <span class="login__eyebrow">Secure access</span>
              <h2 class="login__title" id="login-title">Sign in to PostPro AI</h2>
              <p class="login__subtitle">Use your dashboard email and password to continue.</p>
            </div>
            <button type="button" id="login-close" class="login__close" aria-label="Close sign in">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6 6l12 12M6 18 18 6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" /></svg>
            </button>
          </header>

          <form id="login-form" class="login__form">
            <label class="login__field" for="login-email">
              <span>Email</span>
              <input type="email" id="login-email" autocomplete="email" required placeholder="you@example.com" />
            </label>
            <label class="login__field" for="login-password">
              <span>Password</span>
              <div class="login__password">
                <input type="password" id="login-password" autocomplete="current-password" required placeholder="••••••••" />
                <button type="button" id="toggle-password" class="login__toggle" aria-label="Toggle password visibility">
                  <svg viewBox="0 0 24 24" fill="none" aria-hidden="true" class="login__toggle-icon login__toggle-icon--show">
                    <path d="M2 12s3.5-7 10-7 10 7 10 7-3.5 7-10 7S2 12 2 12Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                  <svg viewBox="0 0 24 24" fill="none" aria-hidden="true" class="login__toggle-icon login__toggle-icon--hide">
                    <path d="M3 3l18 18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M9.88 9.88A3 3 0 0 0 12 15a3 3 0 0 0 2.12-.88" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M6.12 6.12C4.3 7.35 3 9.45 3 9.45s3.5 7 9 7a8.8 8.8 0 0 0 2.39-.33" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M9.53 4.58A9.41 9.41 0 0 1 12 4.5c6.5 0 10 7 10 7a15.46 15.46 0 0 1-2.05 3.07" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                </button>
              </div>
            </label>

            <p id="login-message" class="login__message" role="alert" aria-live="assertive" hidden></p>

            <button type="submit" id="login-submit" class="button button--primary login__submit">Sign in</button>
            <button type="button" id="login-forgot" class="button button--ghost login__secondary">Forgot password</button>
          </form>

          <footer class="login__footer">
            <p>Need an account? <button type="button" id="login-open-plans" class="login__link">View plans</button></p>
          </footer>
        </section>
      </div>

      <div id="drawer-backdrop" class="drawer__backdrop" hidden></div>
      <aside id="virality-drawer" class="drawer" aria-hidden="true">
        <header class="drawer__header">
          <div>
            <span class="drawer__eyebrow">Virality predictor</span>
            <h2 class="drawer__title">LinkedIn reach forecast</h2>
          </div>
          <button id="close-drawer" class="drawer__close" aria-label="Close virality results">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6 6l12 12M6 18 18 6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" /></svg>
          </button>
        </header>
        <section class="drawer__body panel__output panel__output--empty" id="virality-output" aria-live="polite">
          Run a prediction to see reach, quick wins, and headline ideas.
        </section>
        <footer class="drawer__footer">
          <p>Scores update in real time using PostPro AI training data.</p>
        </footer>
      </aside>
    </div>

    <script src="popup.js" defer></script>
  </body>
</html>
